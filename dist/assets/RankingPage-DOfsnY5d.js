import{d as x,r as i,o as v,a as u,b as d,e as t,f as b,w as f,v as h,F as y,g as D,i as _,t as a}from"./index-CIa03AWP.js";const w={class:"card head full"},E={style:{"margin-left":"auto",display:"inline-flex",gap:"8px","align-items":"center"}},M={class:"table"},F=x({__name:"RankingPage",setup(S){const p=i([]),o=i(""),s=i("");function r(l){return Math.round(l*1e3)/10+"%"}function c(l){try{return Math.floor(new Date(l+"T00:00:00").getTime()/1e3)}catch{return 0}}function m(){const l=new Date,e=new Date(l.getFullYear(),l.getMonth(),l.getDate()),n=new Date(e.getTime()-7*864e5);o.value=n.toISOString().slice(0,10),s.value=e.toISOString().slice(0,10)}function g(){const l=c(o.value),e=c(s.value)||Math.floor(Date.now()/1e3);_(`performance.json?start=${l}&end=${e}`).then(n=>p.value=n).catch(()=>{})}return v(()=>{m(),g()}),(l,e)=>(d(),u("div",w,[t("h3",null,[e[2]||(e[2]=b("绩效排行 ",-1)),t("span",E,[f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>o.value=n),type:"date",style:{height:"28px","border-radius":"4px",border:"1px solid #E9ECEF",padding:"0 8px","font-size":"12px"}},null,512),[[h,o.value]]),f(t("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>s.value=n),type:"date",style:{height:"28px","border-radius":"4px",border:"1px solid #E9ECEF",padding:"0 8px","font-size":"12px"}},null,512),[[h,s.value]]),t("button",{class:"btn btn-sm",onClick:g},"查询")])]),t("table",M,[e[3]||(e[3]=t("thead",null,[t("tr",null,[t("th",null,"骑手"),t("th",null,"准时率"),t("th",null,"接单率"),t("th",null,"好评率"),t("th",null,"订单")])],-1)),t("tbody",null,[(d(!0),u(y,null,D(p.value,n=>(d(),u("tr",{key:n.rider},[t("td",null,a(n.rider),1),t("td",null,a(r(n.on_time_rate)),1),t("td",null,a(r(n.accept_rate)),1),t("td",null,a(r(n.positive_rate)),1),t("td",null,a(n.orders),1)]))),128))])])]))}});export{F as default};
