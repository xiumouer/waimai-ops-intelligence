:root{--primary:#1A5FFF;--secondary:#0A174E;--success:#00D4AA;--danger:#FF6B6B;--bg:#F8F9FA;--border:#E9ECEF;--text-secondary:#6C757D}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:#1c1f24;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,"Noto Sans",sans-serif}
.app-header{height:56px;display:flex;align-items:center;padding:0 16px;background:var(--secondary);color:#fff}
.brand{font-weight:600}
.app-shell{display:flex;height:calc(100vh - 56px)}
.app-sidebar{width:200px;background:var(--secondary);padding:12px;height:100%;overflow:auto}
.nav-item{display:block;width:100%;text-align:left;background:transparent;border:1px solid rgba(255,255,255,.15);color:#fff;padding:10px 12px;margin-bottom:8px;border-radius:8px;cursor:pointer}
.nav-item.active{background:var(--primary);border-color:var(--primary)}
.app-main{flex:1;padding:16px;overflow:auto;max-width:1200px;margin:0 auto}
.page{display:none}
.page.visible{display:block}
.page.visible{animation:fadeSlideIn .2s ease both}
.grid{display:grid;gap:16px}
.grid-3{grid-template-columns:repeat(3,1fr)}
.grid-2{grid-template-columns:repeat(2,1fr)}
.card{background:#fff;border:1px solid var(--border);border-radius:14px;padding:14px;box-shadow:0 4px 12px rgba(10,23,78,.06);position:relative}
.card.head{padding:12px}
.card.head .subtext{margin-top:4px}
.weather-card{background:#0D1E63;color:#fff;border-color:rgba(255,255,255,.12)}
.weather-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.btn-sm{height:28px;padding:0 10px;font-size:12px;border-radius:6px}
.weather-grid{display:grid;grid-template-columns:1.5fr 2fr;gap:12px}
.weather-metrics .metric{display:flex;gap:8px;margin:6px 0}
.weather-metrics .label{color:rgba(255,255,255,.7)}
.weather-metrics .subtext{color:rgba(255,255,255,.7)}
.weather-tips h4{margin:6px 0;color:#fff;font-weight:600}
.tip-box{border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:12px;color:#fff;background:rgba(0,0,0,.12)}
.card.updating{animation:softUpdate .18s ease}
.loading .card{position:relative;overflow:hidden}
.loading .card::after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,rgba(233,236,239,0.6) 0%,rgba(233,236,239,0.9) 40%,rgba(233,236,239,0.6) 80%);animation:shimmer .8s infinite;pointer-events:none}
.card.full{grid-column:1/-1}
.kpi{font-size:32px;font-weight:700}
.kpi-primary{color:var(--primary)}
.kpi-success{color:var(--success)}
.kpi-danger{color:var(--danger)}
.subtext{color:var(--text-secondary);margin-top:6px}

.map{height:100%;border:1px solid var(--border);border-radius:12px}

.chart{height:180px;overflow:hidden;position:relative;z-index:0}
.chart.enter{animation:fadeIn .24s ease}
.scroll-y{max-height:420px;overflow:auto}
.scroll-y-sm{max-height:280px;overflow:auto}
.table{width:100%;border-collapse:collapse}
.table th,.table td{border-bottom:1px solid var(--border);padding:8px;text-align:left}
.table tr:hover{background:rgba(26,95,255,.06)}
.table tr.row-warning{background:rgba(255,107,107,.08)}
.tag{display:inline-block;padding:4px 8px;border-radius:999px;font-size:12px}
.tag-success{background:rgba(0,212,170,.15);color:var(--success)}
.tag-warning{background:rgba(255,107,107,.15);color:var(--danger)}
.tag-danger{background:rgba(255,107,107,.15);color:var(--danger)}
.tag-info{background:rgba(26,95,255,.15);color:var(--primary)}
.tag-muted{background:rgba(108,117,125,.15);color:var(--text-secondary)}
/* 列表卡片 */
#page-riders .list{display:grid;grid-template-columns:repeat(2,minmax(280px,1fr));gap:12px}
.list-item{background:linear-gradient(180deg,rgba(26,95,255,.03),rgba(10,23,78,.02));border:1px solid var(--border);border-radius:10px;padding:10px;display:flex;justify-content:space-between;align-items:center}
.list-item:hover{box-shadow:0 6px 16px rgba(10,23,78,.08)}
.list .subtext{font-size:12px}
/* 统一左右布局 */
.li-left{display:flex;flex-direction:column;gap:6px}
.li-right{display:flex;align-items:center}
/* 概况指标 */
.metrics{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
.card.full h3{display:flex;align-items:center;justify-content:space-between}
@media (max-width:960px){#page-riders .list{grid-template-columns:1fr}.metrics{grid-template-columns:repeat(2,1fr)}}
.metric-box{background:#fff;border:1px solid var(--border);border-radius:10px;padding:10px;box-shadow:0 2px 8px rgba(10,23,78,.05)}
.metric-title{font-size:12px;color:var(--text-secondary);margin-bottom:6px}
@media (max-width:960px){.grid-2,.grid-3{grid-template-columns:1fr}.app-sidebar{position:sticky;top:0}}

/* 微交互与动画 */
.nav-item,.btn{transition:transform .15s ease, box-shadow .15s ease, background-color .15s ease}
.btn:active{transform:scale(0.98)}
.pulse-once{animation:pulse .12s ease}
.kpi{transition:color .2s ease}
.kpi.update{animation:softUpdate .18s ease}
.table.updating{animation:softUpdate .18s ease}

.app-header{background:linear-gradient(90deg,#0A174E 0%, #0D1E63 50%, #0A174E 100%);background-size:200% 100%;animation:gradientShift 20s linear infinite}

input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(26,95,255,.15)}
.input-invalid{border-color:var(--danger);animation:shake .2s ease}

@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes fadeSlideIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
@keyframes softUpdate{0%{box-shadow:0 0 0 0 rgba(26,95,255,.0)}50%{box-shadow:0 0 0 4px rgba(26,95,255,.08)}100%{box-shadow:0 0 0 0 rgba(26,95,255,.0)}}
@keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}100%{transform:scale(1)}}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-2px)}75%{transform:translateX(2px)}}
@keyframes gradientShift{0%{background-position:0% 0%}100%{background-position:100% 0%}}

@media (prefers-reduced-motion: reduce){
  *{animation-duration:0s !important;transition-duration:0s !important}
}
