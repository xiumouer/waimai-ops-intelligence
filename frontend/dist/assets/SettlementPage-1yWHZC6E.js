import{d as m,r,o as x,a as u,b as i,e as t,f as v,w as g,v as f,F as b,g as y,i as D,t as a}from"./index-CIa03AWP.js";const w={class:"card head full"},E={style:{"margin-left":"auto",display:"inline-flex",gap:"8px","align-items":"center"}},S={class:"table"},M=m({__name:"SettlementPage",setup(_){const d=r([]),s=r(""),o=r("");function p(l){try{return Math.floor(new Date(l+"T00:00:00").getTime()/1e3)}catch{return 0}}function h(){const l=new Date,n=new Date(l.getFullYear(),l.getMonth(),l.getDate()),e=new Date(n.getTime()-7*864e5);s.value=e.toISOString().slice(0,10),o.value=n.toISOString().slice(0,10)}function c(){const l=p(s.value),n=p(o.value)||Math.floor(Date.now()/1e3);D(`settlements.json?start=${l}&end=${n}`).then(e=>d.value=e).catch(()=>{})}return x(()=>{h(),c()}),(l,n)=>(i(),u("div",w,[t("h3",null,[n[2]||(n[2]=v("收入结算 ",-1)),t("span",E,[g(t("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>s.value=e),type:"date",style:{height:"28px","border-radius":"4px",border:"1px solid #E9ECEF",padding:"0 8px","font-size":"12px"}},null,512),[[f,s.value]]),g(t("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>o.value=e),type:"date",style:{height:"28px","border-radius":"4px",border:"1px solid #E9ECEF",padding:"0 8px","font-size":"12px"}},null,512),[[f,o.value]]),t("button",{class:"btn btn-sm",onClick:c},"查询")])]),t("table",S,[n[3]||(n[3]=t("thead",null,[t("tr",null,[t("th",null,"骑手"),t("th",null,"订单"),t("th",null,"收入"),t("th",null,"补贴"),t("th",null,"扣款"),t("th",null,"净收入")])],-1)),t("tbody",null,[(i(!0),u(b,null,y(d.value,e=>(i(),u("tr",{key:e.rider},[t("td",null,a(e.rider),1),t("td",null,a(e.orders),1),t("td",null,a(e.income),1),t("td",null,a(e.subsidy),1),t("td",null,a(e.penalties),1),t("td",null,a(e.net),1)]))),128))])])]))}});export{M as default};
